<!DOCTYPE html>
<html>
    <head>
        <title>Covid 19 tracker</title>
 <meta charset="UTF-8" > 
 
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

        <link href="corona.css" rel="stylesheet" type="text/css">
        <link href="materialize.css" rel="stylesheet" type="text/css">
        <script src="corona.js" type="text/javascript"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>
    
    <body style=" background-image: url(Whatsapp-Wallpaper-102.jpg)">
   
    <header>
       Covid19 tracker
    </header><br><br><br>
         <div class="container">
        <div class="card-panel">
   <input type="text" class="input" placeholder="Enter country name..."/>
  <div class="button"><i class="fa fa-search"></i></div> 
           <center><i class="fa fa-crosshairs fa-3x">&nbsp;STAY SAFE</i><br>
      <a class="modal-trigger waves-effect waves-light btn" href="#modal1"><i class="fa fa-connectdevelop"></i></a> 
            </center>
            
    </div>  
             
            
 
  <!-- Modal Structure --> 
  <div id="modal1" class="modal modal-fixed-footer"> 
   <div class="modal-content"> 
    <h5>Eyram dela</h5> 
       <p>A 4th year student of UMaT</p>
       <p> Abigail Mensah Abakah      </p>
      <center><img src="images/abi%20plast.jpg" width="200"></center> 
   </div> 
   <div class="modal-footer"> 
    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Agree</a> 
    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">DisAgree</a> 
 
   </div> 
  </div> 
          
             <div class="card">
  <div class="tit"><div class="title">Country</div></div></div>
  <div class="card-panel"  style="background: -webkit-linear-gradient(135deg,azure,yellow);">
  <i class="fa fa-binoculars fa-3x"></i><div class="title">Confirmed Cases</div>

      <div class="count confirm">000000</div>
  </div>
<div class="card-panel"  style="background: -webkit-linear-gradient(135deg,cyan,blue);">
   <img src="corona.png" width="80"><div class="title">Active Cases</div>
   
 <div class="count active">000000</div>
  </div>
 
  <div class="card-panel" style="background: -webkit-linear-gradient(135deg,red,yellow);">
   <i class="fa fa-ambulance fa-3x"></i><div class="title">Deaths</div>
 
      <div class="count death">000000</div>
  </div>
  
  <div class="card-panel"  style="background: -webkit-linear-gradient(135deg,cyan,green);">
  <i class="fa fa-hospital-o fa-3x"></i> <div class="title">Recovered</div>
 
      <div class="count recover">000000</div>
  </div> 
        </div>
        <script>
var button = document.querySelector(".button");
button.addEventListener('click',getdata);

 async function getdata(){
 
var input = document.querySelector(".input");
var confirm = document.querySelector(".confirm");
var active = document.querySelector(".active");
var death = document.querySelector(".death");
var recover = document.querySelector(".recover");
var title = document.querySelector(".title")
var country = input.value;
if(country == ""){
    alert("Pls input correct value")
}
try{
const res = await fetch('https://covid19.mathdro.id/api/countries/'+ country)
    const data = await res.json()
    //console.log(JSON.stringify(data))
    confirm.innerHTML = data.confirmed.value;
    death.innerHTML = data.deaths.value;
    recover.innerHTML = data.recovered.value;
active.innerHTML = parseInt(data.confirmed.value-(data.recovered.value + data.deaths.value));
title.innerHTML = input.value.toUpperCase();;
input.value = "";
}
catch(e){
    alert("Country not found")
    input.value ="";
}
    //alert(data.error.message)
    }
        </script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script> 
 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/js/materialize.min.js"></script> 
 
 <script> 
  $(document).ready(function() 
  { 
   // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered 
   $('.modal-trigger').leanModal(); 
  }); 
 </script> 
 
    </body>
</html>